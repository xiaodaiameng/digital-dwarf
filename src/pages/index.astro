---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
import Snowfall from '../components/Snowfall.astro';
import ClickParticles from '../components/ClickParticles.astro';
import Music from '../components/Music.astro';
---
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>喵喵外婆的花田</title>
    <style>
        :root {
            --typing-speed: 230ms; /* 每个字的间隔时间（越小越快） */
        }

        .search-typewriter {
            width: 80%;
            max-width: 1000px;
            margin: 2rem auto;
            padding: 1rem 1.5rem;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .typewriter-container {
            position: relative;
            min-height: 1.5em; /* 防止高度跳动 */
        }

        .typewriter-text {
            font-size: 1.2rem;
            color: #333;
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            white-space: nowrap;
        }

        /* 光标样式 */
        .typewriter-caret {
            display: inline-block;
            width: 2px;
            height: 1.2rem;
            background-color: #000000;
            margin-left: 3px;
            vertical-align: text-bottom;
            animation: blink 0.7s step-end infinite;
        }

        /* 关于光标闪烁 */
		@keyframes blink {
		from, to, 50% { opacity: 1 }  /* 全程不透明 */
		}

        /* 光标消失状态 */
        .typewriter-caret.hidden {
            display: none;
        }

        main {
            padding: 2rem 1rem;
        }

        p {
            max-width: 1000px;
            margin: 0 auto;
            line-height: 1.8;
        }





        
    </style>
</head>
<body>

    <Header />
    <main>
        <div class="search-typewriter">
            <div class="typewriter-container">
                <span class="typewriter-text" id="typewriter"></span>
                <span class="typewriter-caret" id="caret"></span>
            </div>
        </div>
        <p>
            或许好的作品不是镜子，而是窗。它让我们看见别人的生活，更让我们透过别人的故事，看清自己掌心的纹路。当灯光彻底亮起，就像被雨水洗过的天空，那些原本模糊的轮廓，突然变得清晰起来。
        </p>
    </main>
    <Footer />
    <!-- 逐字打字核心脚本 -->
    <script is:inline>
        // 要显示的打字句子
        const text = "所以生命啊，它璀璨如歌";
        const typewriterEl = document.getElementById('typewriter');
        const caretEl = document.getElementById('caret');
        const typingSpeed = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--typing-speed'));

        // 逐字添加文字
        function typeText() {
            let index = 0;
            const interval = setInterval(() => {
                if (index < text.length) {
                    typewriterEl.textContent += text.charAt(index);
                    index++;
                } else {
                    // 文字打完后，2秒内隐藏光标
                    clearInterval(interval);
                    setTimeout(() => {
                        caretEl.classList.add('hidden');
                    }, 2000);
                }
            }, typingSpeed);
        }

        // 页面加载后开始打字
        window.addEventListener('load', typeText);
    </script>
	<Snowfall/>
    <ClickParticles />
    <Music />
</body>

</html>


